{% assign string = site.data[page.lang].header %}

<div class="header">
  <div class="header-background style-crystal-container no-hover">
    {% include styleCrystals.html start=5 end=8 %}
  </div>
  <div class="menu-name style-crystal-container">
    {% include styleCrystals.html start=5 end=8 %}
    <button class="menu-icon" onclick="toggleMenu()">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <div class="name-title">
      <a href="/{{ page.lang }}">
        {{ string["hugo-thollon"] }}
      </a>
    </div>
  </div>
  <ul class="navbar-container">
    <li class="navbar-el style-crystal-container resume">
      {% include styleCrystals.html %}
      <a href="/{{ page.lang }}/resume">
        {{ string["resume"] }}
      </a>
    </li>
    <li class="navbar-el style-crystal-container portfolio">
      {% include styleCrystals.html %}
      <a href="/{{ page.lang }}/portfolio">
        {{ string["portfolio"] }}
      </a>
    </li>
    <li class="navbar-el language">

      {% if page.lang == "fr" %}
        {% assign url = page.url | replace_first: '/fr/', '/en/' %}
        {% include language-button.html img_src="/assets/images/france.webp" %}
        {% include language-button.html img_src="/assets/images/united-kingdom.webp" url=url %}
      {% else %}
        {% assign url = page.url | replace_first: '/en/', '/fr/' %}
        {% include language-button.html img_src="/assets/images/france.webp" url=url %}
        {% include language-button.html img_src="/assets/images/united-kingdom.webp" %}
      {% endif %}
    </li>
  </ul>
</div>

<div class="outside-menu"></div>

<script src="/assets/js/variablesResize.js"></script>

<script>
  let menuOpen = false;
  
  function addClass(element, className) {
    if (!element.classList.contains(className))
      element.classList.add(className);
  }
  
  function openMenu() {
    menuOpen = true;
    button.classList.add("cross");
    navBar.classList.add("opened");
    headerBackground.classList.add("opened");
    outside.classList.add("menu-open");
    console.log("navbar menu opened");
  }
  
  function closeMenu() {
    menuOpen = false;
    button.classList.remove("cross");
    navBar.classList.remove("opened");
    headerBackground.classList.remove("opened");
    outside.classList.remove("menu-open");
    console.log("navbar menu closed");
  }
  
  function toggleMenu() {
    if (menuOpen) {
      closeMenu();
    } else {
      openMenu();
    }
  }
  
  document.addEventListener("DOMContentLoaded", () => {
    button = document.querySelector(".menu-icon");
    navBar = document.querySelector(".navbar-container");
    headerBackground = document.querySelector(".header-background");
    outside = document.querySelector(".outside-menu");
  
    closeMenu();
    outside.addEventListener("click", closeMenu);
    outside.addEventListener("touchstart", closeMenu);
  });
</script>